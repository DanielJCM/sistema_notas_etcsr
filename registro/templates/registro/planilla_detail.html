{% extends "base/base.html" %}
{% block titulo %}Detalle de Planilla{% endblock %}
{% block cuerpo %}
{% load staticfiles %}

<head>
    <meta charset="utf-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
</head>

<script>
    function pruebaDivAPdf() {
        var pdf = new jsPDF('p', 'pt', 'letter');
        source = $('#imprimir')[0];

        specialElementHandlers = {
            '#bypassme': function (element, renderer) {
                return true
            }
        };
        margins = {
            top: 80,
            bottom: 60,
            left: 40,
            width: 522
        };

        pdf.fromHTML(
            source, 
            margins.left, // x coord
            margins.top, { // y coord
                'width': margins.width, 
                'elementHandlers': specialElementHandlers
            },

            function (dispose) {
                pdf.save('Detalle.pdf');
            }, margins
        );
    }
</script>

<div id="imprimir" class="row"> 
        <div class="col-sm-4">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Nombre del Profesor</h3>
            </div>
            <div class="panel-body">
              {{ planilla.campo0 }}
            </div>
          </div>
  <br />

  <label>Materia</label>
  {{ planilla.campo1 }}

  <br />

  <label>Mención</label>
  {{ planilla.campo2 }}

  <br />

  <label>Sección</label>
  {{ planilla.campo3 }}
</div>

<a href="javascript:pruebaDivAPdf()" class="button">PDF</a>
{% endblock %}


