{% extends "base/base.html" %}
{% block titulo %}Detalle de Planilla{% endblock %}
{% block cuerpo %}
{% load staticfiles %}

<head>
    <meta charset="utf-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
</head>

<script>
    function pruebaDivAPdf() {
        var pdf = new jsPDF('p', 'pt', 'letter');
        source = $('#imprimir')[0];

        specialElementHandlers = {
            '#bypassme': function (element, renderer) {
                return true
            }
        };
        margins = {
            top: 80,
            bottom: 60,
            left: 40,
            width: 522
        };

        pdf.fromHTML(
            source, 
            margins.left, // x coord
            margins.top, { // y coord
                'width': margins.width, 
                'elementHandlers': specialElementHandlers
            },

            function (dispose) {
                pdf.save('Detalle.pdf');
            }, margins
        );
    }
</script>
    <div id="imprimir">
      <div class="row">
        <div class="col-sm-4">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Nombre del Profesor</h3>
            </div>
            <div class="panel-body">
              {{ planilla.campo0 }}
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Materia</h3>
            </div>
            <div class="panel-body">
              {{ planilla.campo1 }}
            </div>
          </div>
        </div><!-- /.col-sm-4 -->
        <div class="col-sm-4">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Mención</h3>
            </div>
            <div class="panel-body">
              {{ planilla.campo2 }}
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Sección</h3>
            </div>
            <div class="panel-body">
              {{ planilla.campo3 }}
            </div>
          </div>
        </div><!-- /.col-sm-4 -->
      </div>
    </div>

<a href="javascript:pruebaDivAPdf()" class="button">PDF</a>
{% endblock %}


